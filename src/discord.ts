export enum Intents {
  GUILDS = 1 << 0,
  GUILD_MEMBERS = 1 << 1,
  GUILD_BANS = 1 << 2,
  GUILD_EMOJIS_AND_STICKERS = 1 << 3,
  GUILD_INTEGRATIONS = 1 << 4,
  GUILD_WEBHOOKS = 1 << 5,
  GUILD_INVITES = 1 << 6,
  GUILD_VOICE_STATUS = 1 << 7,
  GUILD_PRESENCES = 1 << 8,
  GUILD_MESSAGES = 1 << 9,
  GUILD_MESSAGE_REACTIONS = 1 << 10,
  GUILD_MESSAGE_TYPING = 1 << 11,
  DIRECT_MESSAGES = 1 << 12,
  DIRECT_MESSAGE_REACTIONS = 1 << 13,
  DIRECT_MESSAGE_TYPING = 1 << 14,
  MESSAGE_CONTENT = 1 << 15,
  GUILD_SCHEDULED_EVENTS = 1 << 16,
  AUTO_MODERATION_CONFIGURATION = 1 << 20,
  AUTO_MODERATION_EXECUTION = 1 << 21,
  All = (1 << 21) - 1,
  AllUnprivileged = All ^ (GUILD_PRESENCES | GUILD_MEMBERS),
}

export enum Opcode {
  DISPATCH = 0,
  HEARTBEAT = 1,
  IDENTIFY = 2,
  PRESENCE_UPDATE = 3,
  VOICE_STATE_UPDATE = 4,
  RESUME = 6,
  RECONNECT = 7,
  REQUEST_GUILD_MEMBERS = 8,
  INVALID_SESSION = 9,
  HELLO = 10,
  HEARTBEAT_ACK = 11,
}

export enum CloseCode {
  UNKNOWN_ERROR = 4000,
  UNKNOWN_OPCODE = 4001,
  DECODE_ERROR = 4002,
  NOT_AUTHENTICATED = 4003,
  AUTHENTICATION_FAILED = 4004,
  ALREADY_AUTHENTICATED = 4005,
  INVALID_SEQ = 4007,
  RATE_LIMITED = 4008,
  SESSION_TIMED_OUT = 4009,
  INVALID_SHARD = 4010,
  SHARDING_REQUIRED = 4011,
  INVALID_API_VERSION = 4012,
  INVALID_INTENTS = 4013,
  DISALLOWED_INTENTS = 4014,
}

export enum JSONcode {
  GENERAL_ERROR = 0,
  UNKNOWN_ACCOUNT = 10001,
  UNKNOWN_APPLICATION,
  UNKNOWN_CHANNEL,
  UNKNOWN_GUILD,
  UNKNOWN_INTEGRATION,
  UNKNOWN_INVITE,
  UNKNOWN_MEMBER,
  UNKNOWN_MESSAGE,
  UNKNOWN_PERMISSION_OVERWRITE,
  UNKNOWN_PROVIDER,
  UNKNOWN_ROLE,
  UNKNOWN_TOKEN,
  UNKNOWN_USER,
  UNKNOWN_EMOJI,
  UNKNOWN_WEBHOOK,
  UNKNOWN_WEBHOOK_SERVICE,
  UNKNOWN_SESSION = 10020,
  UNKNOWN_BAN = 10026,
  UNKNOWN_SKU,
  UNKNOWN_STORE_LISTING,
  UNKNOWN_ENTITLEMENT,
  UNKNOWN_BUILD,
  UNKNOWN_LOBBY,
  UNKNOWN_BRANCH,
  UNKNOWN_STORE_DIRECTORY_LAYOUT,
  UNKNOWN_REDISTRIBUTABLE = 10036,
  UNKNOWN_GIFT_CODE = 10038,
  UNKNOWN_STREAM = 10049,
  UNKNOWN_PREMIUM_SERVER_SUBSCRIBE_COOLDOWN,
  UNKNOWN_GUILD_TEMPLATE = 10057,
  UNKNOWN_DISCOVERABLE_SERVER_CATEGORY = 10059,
  UNKNOWN_STICKER,
  UNKNOWN_INTERACTION = 10062,
  UNKNOWN_APPLICATION_COMMAND,
  UNKNOWN_VOICE_STATE = 10065,
  UNKNOWN_APPLICATION_COMMAND_PERMISSIONS,
  UNKNOWN_STAGE_INSTANCE,
  UNKNOWN_GUILD_MEMBER_VERIFICATION_FORM,
  UNKNOWN_GUILD_WELCOME_SCREEN,
  UNKNOWN_GUILD_SCHEDULED_EVENT,
  UNKNOWN_GUILD_SCHEDULED_EVENT_USER,
  UNKNOWN_TAG = 10087,
  NO_BOTS_ALLOWED = 20001,
  ONLY_BOTS_ALLOWED,
  CONTENT_EXPLICIT = 20009,
  UNAUTHORIZED_APPLICATION_OPERATION = 20012,
  SLOWMODE_LIMITED = 20016,
  OWNER_ONLY = 20018,
  ANNOUNCEMENT_EDIT_LIMIT = 20022,
  CHANNEL_WRITE_LIMIT_HIT = 20028,
  SERVER_WRITE_LIMIT_HIT,
  OBJECT_NAME_CONTAINS_BLACKLISTED_WORDS = 20031,
  GUILD_SUBSCRIPTION_LEVEL_TOO_LOW = 20035,
  MAXIMUM_NUMBER_OF_GUILDS_REACHED = 30001,
  MAXIMUM_NUMBER_OF_FRIENDS_REACHED,
  MAXIMUM_NUMBER_OF_PINS_REACHED_FOR_THE_CHANNEL,
  MAXIMUM_NUMBER_OF_RECIPIENTS_REACHED,
  MAXIMUM_NUMBER_OF_GUILD_ROLES_REACHED,
  MAXIMUM_NUMBER_OF_WEBHOOKS_REACHED = 30007,
  MAXIMUM_NUMBER_OF_EMOJIS_REACHED,
  MAXIMUM_NUMBER_OF_REACTIONS_REACHED = 30010,
  MAXIMUM_NUMBER_OF_GUILD_CHANNELS_REACHED = 30013,
  MAXIMUM_NUMBER_OF_ATTACHMENTS_IN_A_MESSAGE_REACHED = 30015,
  MAXIMUM_NUMBER_OF_INVITES_REACHED,
  MAXIMUM_NUMBER_OF_ANIMATED_EMOJIS_REACHED = 30018,
  MAXIMUM_NUMBER_OF_SERVER_MEMBERS_REACHED,
  MAXIMUM_NUMBER_OF_SERVER_CATEGORIES_HAS_BEEN_REACHED = 30030,
  TEMPLATE_ALREADY_EXISTS,
  MAX_NUMBER_OF_THREAD_PARTICIPANTS_HAS_BEEN_REACHED = 30033,
  NON_GUILDMEMBER_BAN_LIMIT_EXCEEDED = 30035,
  MAXIMUM_NUMBER_OF_BANS_FETCHES_HAS_BEEN_REACHED = 30037,
  MAXIUM_NUMBER_OF_UNCOMPLETED_GUILD_SCHEDELED_EVENTS_REACHED,
  MAXIMUM_NUMBER_OF_STICKERS_REACHED,
  MAXIMUM_NUMBER_OF_PRUNE_REQUEST_REACHED,
  MAXIMUM_NUMBER_OF_GUILD_WIDGET_SETTINGS_UPDATE_REACHED = 30042,
  MAXIMUM_NUMBER_OF_EDITS_TO_MESSAGE_OLDER_THAN_1_HOUR_REACHED = 30046,
  MAXIMUM_NUMBER_OF_PIN_THREAD_IN_FORUM_CHANNEL_REACHED,
  MAXIMUM_NUMBER_OF_TAGS_IN_FORUM_CHANNEL_REACHED,
  BITRATE_TOO_HIGH = 30052,
  TOKEN_INVALID = 40001,
  ACCOUNT_VERIFY_NECCESARY,
  YOU_ARE_OPENING_DIRECT_MESSAGES_TOO_FAST,
  SEND_MESSAGE_TEMPORARILY_DISABLED,
  PAYLOAD_TOO_LARGE,
  DISCORD_MOMENT,
  THE_USER_IS_BANNED_FROM_THIS_GUILD,
  TARGET_USER_IS_NOT_CONNECTED_TO_VOICE = 40032,
  THIS_MESSAGE_HAS_ALREADY_BEEN_CROSSPOSTED,
  AN_APPLICATION_COMMAND_WITH_THAT_NAME_ALREADY_EXISTS = 40041,
  INTERACTION_HAS_ALREADY_BEEN_ACKNOWLEDGED = 40060,
  TAG_NAMES_MUST_BE_UNIQUE,
  MISSING_ACCESS = 50001,
  INVALID_ACCOUNT_TYPE,
  CANNOT_EXECUTE_ACTION_ON_A_DM_CHANNEL,
  GUILD_WIDGET_DISABLED,
  CANNOT_EDIT_A_MESSAGE_AUTHORED_BY_ANOTHER_USER,
  CANNOT_SEND_AN_EMPTY_MESSAGE,
  CANNOT_SEND_MESSAGES_TO_THIS_USER,
  CANNOT_SEND_MESSAGES_IN_A_NON_TEXT_CHANNEL,
  CHANNEL_VERIFICATION_LEVEL_IS_TOO_HIGH_FOR_YOU_TO_GAIN_ACCESS,
  OAUTH2_APPLICATION_DOES_NOT_HAVE_A_BOT,
  OAUTH2_APPLICATION_LIMIT_REACHED,
  INVALID_OAUTH2_STATE,
  YOU_LACK_PERMISSIONS_TO_PERFORM_THAT_ACTION,
  INVALID_AUTHENTICATION_TOKEN_PROVIDED,
  NOTE_WAS_TOO_LONG,
  INVALID_BULK_DELETE_COUNT,
  INVAILD_MFA_LEVEL,
  A_MESSAGE_CAN_ONLY_BE_PINNED_TO_THE_CHANNEL_IT_WAS_SENT_IN = 50019,
  INVITE_CODE_WAS_EITHER_INVALID_OR_TAKEN,
  CANNOT_EXECUTE_ACTION_ON_A_SYSTEM_MESSAGE,
  CANNOT_EXECUTE_ACTION_ON_THIS_CHANNEL_TYPE = 50024,
  INVALID_OAUTH2_ACCESS_TOKEN_PROVIDED,
  MISSING_REQUIRED_OAUTH2_SCOPE,
  INVALID_WEBHOOK_TOKEN_PROVIDED,
  INVALID_ROLE,
  INVALID_RECIPIENT = 50033,
  MESSAGE_AGE_EXCEEDS_BULK_DELETE_LIMIT,
  INVALID_PAYLOAD,
  SOMETHING_ABOUT_INVALID_INVITE_ACCEPTS,
  INVALID_API_VERSION_PROVIDED = 50041,
  FILE_UPLOADED_EXCEEDS_THE_MAXIMUM_SIZE = 50045,
  INVALID_FILE_UPLOADED,
  CANNOT_LEECH_GIFT = 50054,
  INVAILD_GUILD,
  INVAILD_MESSAGE_TYPE = 50068,
  PAYMENT_SOURCE_REQUIRED_TO_REDEEM_GIFT = 50070,
  CANNOT_DELETE_A_CHANNEL_REQUIRED_FOR_COMMUNITY_GUILDS = 50074,
  INVALID_STICKER_SENT = 50081,
  THREAD_IS_ARCHIVED = 50083,
  INVALID_THREAD_NOTIFICATION_SETTINGS,
  SEARCH_TIME_INVALID_THREAD_AGE,
  COMMUNITY_CHANNELS_MUST_BE_TEXT_CHANNELS,
  SERVER_NOT_AVAILABLE_IN_YOUR_LOCATION = 50095,
  SERVER_NEEDS_MONETIZATION_ENABLE_TO_PERFORM_ACTION = 50097,
  NOT_ENOUGH_BOOST = 50101,
  INVAILD_JSON = 50109,
  NO_PERMISSION_TO_SEND_THIS_STICKER = 50600,
  TWO_FACTOR_IS_REQUIRED_FOR_THIS_OPERATION = 60003,
  NO_USERS_WITH_DISCORDTAG_EXIST = 80004,
  REACTION_WAS_BLOCKED = 90001,
  DISCORD_SERVER_OWNED = 130000,
  THE_STAGE_IS_ALREADY_OPEN = 150006,
  CANNOT_REPLY_WITHOUT_READ_MESSAGE_HISTORY_PERMISSION = 160002,
  THREAD_ALREADY_EXISTS = 160004,
  THREAD_IS_LOCKED,
  MAXIMUM_NUMBER_OF_ACTIVE_THREADS_REACHED,
  MAXIMUM_NUMBER_OF_ACTIVE_ANNOUNCEMENT_THREADS_REACHED,
  INVALID_LOTTIE_JSON = 170001,
  UPLOADED_LOTTIES_CANNOT_CONTAIN_RASTER_IMAGES,
  STICKER_MAXIMUM_FRAMERATE_EXCEEDED,
  STICKER_FRAME_COUNT_EXCEEDS_MAXIMUM_OF_1000_FRAMES,
  LOTTIE_ANIMATION_MAXIMUM_DIMENSIONS_EXCEEDED,
  STICKER_FRAME_RATE_IS_EITHER_TOO_SMALL_OR_TOO_LARGE,
  STICKER_ANIMATION_DURATION_EXCEEDS_MAXIMUM_OF_5_SECONDS,
  CANNOT_UPDATE_A_FINISHED_EVENT = 180000,
  FAILED_TO_CREATE_STAGE = 180002,
  WEBHOOK_CAN_ONLY_CREATE_TREADS_IN_FORUM_CHANNELS = 220003,
}

/** @internal */
export function intentCalculator(intents: (Intents | keyof typeof Intents)[]) {
  return intents
    .map<Intents>(intent =>
      typeof intent === 'number' ? intent : Intents[intent]
    )
    .reduce((a, b) => {
      return a + b;
    });
}
